<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.zjh7890.gpttools</id>
    <name>gpt-tools</name>
    <vendor>zjh7890</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.java</depends>

    <description><![CDATA[
        <html>
            <body>
                <p>gpt-tools is a plugin that helps you to apply code generated by ChatGPT.</p>
            </body>
        </html>
    ]]></description>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
<!--        <toolWindow factoryClass="com.github.zjh7890.gpttools.toolWindow.MyToolWindowFactory" id="MyToolWindow"/>-->
        <toolWindow id="FileTreeListToolWindow"
                    anchor="right"
                    factoryClass="com.github.zjh7890.gpttools.toolWindow.FileTreeListToolWindowFactory"
                    canCloseContent="true"
                    canWorkInDumbMode="true"
            icon="/icons/icon.svg">
        </toolWindow>

<!--        <toolWindow id="ChatTool"-->
<!--                    anchor="right"-->
<!--                    factoryClass="com.github.zjh7890.gpttools.toolWindow.chat.ChatToolWindowFactory"-->
<!--                    canCloseContents="false"-->
<!--                    icon="/icons/icon.svg">-->
<!--            <title>Plan Code</title>-->
<!--        </toolWindow>-->

<!--        <toolWindow id="LLMChatTool"-->
<!--                    anchor="right"-->
<!--                    factoryClass="com.github.zjh7890.gpttools.toolWindow.llmChat.LLMChatToolWindowFactory"-->
<!--                    canCloseContents="false"-->
<!--                    icon="/icons/iconLLM.svg">-->
<!--            <title>Plan Code</title>-->
<!--        </toolWindow>-->

        <projectConfigurable instance="com.github.zjh7890.gpttools.settings.actionPrompt.PluginConfigurable"/>

        <applicationConfigurable instance="com.github.zjh7890.gpttools.settings.llmSettings.GptToolSettingsConfigurable"
                                 id="com.github.zjh7890.gpttools.settings.llmSettings.GptToolSettingsConfigurable"
                                 displayName="GptToolLlm"/>

<!--        <applicationConfigurable-->
<!--                id="gptToolsCodeTemplatesConfigurable"-->
<!--                displayName="Code Templates"-->
<!--                instanceClass="com.github.zjh7890.gpttools.settings.PluginConfigurable" />-->
    </extensions>

    <applicationListeners>
<!--        <listener class="com.github.zjh7890.gpttools.listeners.MyApplicationActivationListener" topic="com.intellij.openapi.application.ApplicationActivationListener"/>-->
    </applicationListeners>

    <actions>
        <group id="PromptGeneratorGroup"
               class="com.github.zjh7890.gpttools.actions.PromptGeneratorGroup"
               text="PromptGenerator"
               description="Prompt Generator" popup="true">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after"
                          relative-to-action="ProjectViewPopupMenuRefactoringGroup"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </group>


        <action id="AddFileAction"
                class="com.github.zjh7890.gpttools.actions.AddFileAction"
                text="Add File to ToolWindow"
                description="Adds the selected file to the ToolWindow.">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>
        <action id="AddRecursiveFileAction"
                class="com.github.zjh7890.gpttools.actions.AddRecursiveFileAction"
                text="Recursively Add Files to ToolWindow"
                description="Recursively adds files to the ToolWindow based on dependencies.">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
